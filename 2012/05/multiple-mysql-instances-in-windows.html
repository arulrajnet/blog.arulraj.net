<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>Multiple mysql instances in windows</title>

        <!-- Bootstrap Core CSS -->
        <link href="http://www.arulraj.net/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="http://www.arulraj.net/theme/css/clean-blog.min.css" rel="stylesheet">
        <link href="http://www.arulraj.net/theme/css/post-info.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="http://www.arulraj.net/theme/css/code_blocks/github_jekyll.css" rel="stylesheet">

            <!-- CSS specified by the user -->
            <link href="http://www.arulraj.net/css/myblog.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This post is about a simple tweaks about running multiple mysql instance ...">

        <meta name="author" content="arul">

        <meta name="tags" content="mysql, Tips &amp">
        <meta name="tags" content="Tricks, windows">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="Arul Blog">

	<meta property="og:type" content="article">
            <meta property="article:author" content="http://www.arulraj.net/author/arul.html">
	<meta property="og:url" content="http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html">
	<meta property="og:title" content="Multiple mysql instances in windows">
	<meta property="article:published_time" content="2012-05-02 13:39:00+05:30">
            <meta property="og:description" content="Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This post is about a simple tweaks about running multiple mysql instance ...">

            <meta property="og:image" content="http://www.arulraj.net/theme/images/post-bg.jpg">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://www.arulraj.net/">Arul Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                            <li><a href="http://www.arulraj.net/pages/about/">About</a></li>
                            <li><a href="http://www.arulraj.net/pages/profile/">Profile</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('http://www.arulraj.net/theme/images/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Multiple mysql instances in windows</h1>
                        <span class="meta">
                                <a href="http://www.arulraj.net/author/arul.html">Arul</a>
                             | 02 May 2012
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <p>Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This
post is about a simple tweaks about running multiple mysql instance in
one windows machine. Each instance runs in a different port and behaves
as a dedicated standalone server.</p>
<p><a class="reference external" href="http://1.bp.blogspot.com/-AJSmo9CM1fk/T6Fyl-FmAQI/AAAAAAAAPWg/EnHRjYBPCK0/s1600/Multipleinstances.png"><img alt="mysql multiple instances" src="http://1.bp.blogspot.com/-AJSmo9CM1fk/T6Fyl-FmAQI/AAAAAAAAPWg/EnHRjYBPCK0/s400/Multipleinstances.png"/></a></p>
<p><strong>Why multiple instances..?</strong></p>
<blockquote>
If you are a developer its for you. Sometimes you need to test your
application with different type of data (like QA, Production) to
replicate some error and etc., At that time no need to drop your old
database and put the new one. Just use this and change the db port in
your application configuration. This will be helpful for system
administrators also to provide database service to his users.</blockquote>
<p><strong>Requirement:</strong></p>
<ul class="simple">
<li>mysql installed windows machine</li>
<li>Administrative privilegesÂ for that machine</li>
</ul>
<p>For me mysql installed location is e:\softs\mysql\</p>
<p><strong>Steps:</strong></p>
<p>Create [instances\production] with in mysql installed directory (you can create anywhere). Better do everything in command prompt.</p>
<div class="highlight"><pre><span></span>e:
cd \softs\mysql\
md instances\production
</pre></div>
<p>Copy your data and share folder to production folder</p>
<div class="highlight"><pre><span></span>copy data instances\production\
copy share instances\production\
</pre></div>
<p>To create your custom ini file copy my.ini file and edit</p>
<div class="highlight"><pre><span></span>copy my.ini instances\production.ini
</pre></div>
<div class="section" id="edit-production-ini">
<h2>Edit Production.ini</h2>
<ul class="simple">
<li>change port as 3307 under [client] and [mysqld] section</li>
<li>Change basedir and datadir in that ini file</li>
</ul>
<p><a class="reference external" href="http://files.arulraj.net/code/database/production.ini">Click Here</a> for my production.ini file</p>
<p>Now add your custom ini in system starup</p>
<div class="highlight"><pre><span></span>mysqld --install mysqldproduction --defaults-file="E:\softs\mysql\instances\production.ini"
</pre></div>
<p>Now goto Control Panel â†’ Administrative tools â†’ Services. Then search
for 'mysqldproduction' and start service.</p>
<p>OR</p>
<div class="highlight"><pre><span></span>net start mysqldproduction
</pre></div>
<p>You may think all is done. But after this only I faced problems.</p>
<p><strong>Cannot find the file specified:</strong></p>
<p>When I try to start that service "System error has occurred. The system cannot find the file specified."</p>
<p>There is registry changes needed to fix that issue</p>
<ul class="simple">
<li>To open registry editor Start â†’ Run</li>
<li>Type 'regedit' and enter.</li>
<li>Next, browse to the registry key named:Â HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\mysqldproduction\ImagePath</li>
<li>Now you can see there is <em>no double quotes</em> in that --defaults-file so change ImagePath to</li>
</ul>
<div class="highlight"><pre><span></span><span class="s2">"E:\softs\mysql\bin\mysqld"</span> --defaults-file<span class="o">=</span><span class="s2">"E:\softs\mysql\instances\production.ini"</span> mysqldproduction
</pre></div>
<p>Now start that service.</p>
<p>Keep watching Event Viewer. That is the best place to get debug information. Again I am getting error while starting server</p>
<p><a class="reference external" href="http://3.bp.blogspot.com/-khW4T_J1vso/T6GMNPk7tPI/AAAAAAAAPW4/q29gl6NoL3g/s1600/event-viewer.PNG"><img alt="Event viewer for mysql" src="http://3.bp.blogspot.com/-khW4T_J1vso/T6GMNPk7tPI/AAAAAAAAPW4/q29gl6NoL3g/s400/event-viewer.PNG"/></a></p>
<p><strong>Can't find messagefile:</strong></p>
<p>The error is</p>
<div class="highlight"><pre><span></span>System error 1067 has occurred.
The process terminated unexpectedly.
Can't find messagefile 'E:\softs\mysql\instances\production\share\errmsg.sys'
</pre></div>
<p><strong>Fix:</strong></p>
<blockquote>
Just copy errmsg.sys file from [MYSQL_BASE]shareenglishto that instancesproductionshare folder</blockquote>
<p>Now everything is fine. Service will start successfully.</p>
</div>

    </article>

    <div class="post-info">
        <div class="post-tags">
<a href="http://www.arulraj.net/tag/mysql-tips-amp">mysql, Tips &amp;amp</a><a href="http://www.arulraj.net/tag/tricks-windows">Tricks, windows</a>        </div>

<div class="post-share">
    <a class="twitter" href="https://twitter.com/share?text=Multiple mysql instances in windows&amp;url=http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <i class="fa fa-twitter"></i><span class="hidden">Twitter</span>
    </a>
    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <i class="fa fa-facebook"></i><span class="hidden">Facebook</span>
    </a>
    <a class="googleplus" href="https://plus.google.com/share?url=http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <i class="fa fa-google-plus"></i><span class="hidden">Google+</span>
    </a>
    <div class="clear"></div>
</div>
    </div>
    <hr>

        <div class="comments">
            <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'arulrajnet';
                var disqus_identifier = '/2012/05/multiple-mysql-instances-in-windows.html';
                var disqus_url = 'http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//arulrajnet.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="http://facebook.com/arulraj.net">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://twitter.com/arulrajnet">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/+ArulrajNet">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-google plus fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://feeds.feedburner.com/ArulBlog">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-feed fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>.
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="http://www.arulraj.net/theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="http://www.arulraj.net/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="http://www.arulraj.net/theme/js/clean-blog.min.js"></script>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3546274-9']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'arulrajnet';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>

</html>