<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Multiple mysql instances in windows</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="http://www.arulraj.net" rel="canonical" />

  <!-- Feed -->
      <link href="http://feeds.feedburner.com/ArulBlog" type="application/atom+xml" rel="alternate" title="Arul Blog Full Atom Feed" />

  <link href="http://www.arulraj.net/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="http://www.arulraj.net/theme/css/code_blocks/github.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


    <link href="http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" rel="canonical" />

        <meta name="description" content="Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This post is about a simple tweaks about running multiple mysql instance ...">

        <meta name="author" content="arul">

        <meta name="tags" content="mysql">
        <meta name="tags" content="Tips & Tricks">
        <meta name="tags" content="windows">

        <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Arul Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Arul Blog" />
    <meta property="og:description" content="View the blog." />
    <meta property="og:url" content="http://www.arulraj.net" />
      <meta name="og:image" content="http://www.arulraj.net/theme/images/post-bg.jpg">
      <meta property="article:publisher" content="http://facebook.com/arulraj.net" />

  <meta property="og:type" content="article">
            <meta property="article:author" content="http://www.arulraj.net/author/arul">
  <meta property="og:url" content="http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html">
  <meta property="og:title" content="Multiple mysql instances in windows">
  <meta property="article:published_time" content="2012-05-02 13:39:00+05:30">
            <meta property="og:description" content="Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This post is about a simple tweaks about running multiple mysql instance ...">

            <meta property="og:image" content="http://www.arulraj.net/theme/images/post-bg.jpg">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@arulrajnet">
        <meta name="twitter:title" content="Multiple mysql instances in windows">
        <meta name="twitter:url" content="http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html">

            <meta name="twitter:image:src" content="http://www.arulraj.net/theme/images/post-bg.jpg">

            <meta name="twitter:description" content="Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This post is about a simple tweaks about running multiple mysql instance ...">
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="http://www.arulraj.net/pages/about/">About</a></li>
              <li role="presentation"><a href="http://www.arulraj.net/pages/profile/">Profile</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="http://www.arulraj.net" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Multiple mysql instances in windows</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="http://www.arulraj.net/author/arul">Arul</a>
            | <time datetime="02 May 2012">02 May 2012</time>
        </span>
        <!-- TODO : Modified check -->
        
            <div class="post-cover cover" style="background-image: url('http://www.arulraj.net/theme/images/post-bg.jpg')">
        
      </div>
    </header>    

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>Now again windows stuff... I am using windows OS in office ðŸ˜Œ... This
post is about a simple tweaks about running multiple mysql instance in
one windows machine. Each instance runs in a different port and behaves
as a dedicated standalone server.</p>
<p><a class="reference external" href="http://1.bp.blogspot.com/-AJSmo9CM1fk/T6Fyl-FmAQI/AAAAAAAAPWg/EnHRjYBPCK0/s1600/Multipleinstances.png"><img alt="mysql multiple instances" src="http://1.bp.blogspot.com/-AJSmo9CM1fk/T6Fyl-FmAQI/AAAAAAAAPWg/EnHRjYBPCK0/s400/Multipleinstances.png" /></a></p>
<p><strong>Why multiple instances..?</strong></p>
<blockquote>
If you are a developer its for you. Sometimes you need to test your
application with different type of data (like QA, Production) to
replicate some error and etc., At that time no need to drop your old
database and put the new one. Just use this and change the db port in
your application configuration. This will be helpful for system
administrators also to provide database service to his users.</blockquote>
<p><strong>Requirement:</strong></p>
<ul class="simple">
<li>mysql installed windows machine</li>
<li>Administrative privileges&nbsp;for that machine</li>
</ul>
<p>For me mysql installed location is e:\softs\mysql\</p>
<p><strong>Steps:</strong></p>
<p>Create [instances\production] with in mysql installed directory (you can create anywhere). Better do everything in command prompt.</p>
<div class="highlight"><pre><span></span>e:
cd \softs\mysql\
md instances\production
</pre></div>
<p>Copy your data and share folder to production folder</p>
<div class="highlight"><pre><span></span>copy data instances\production\
copy share instances\production\
</pre></div>
<p>To create your custom ini file copy my.ini file and edit</p>
<div class="highlight"><pre><span></span>copy my.ini instances\production.ini
</pre></div>
<div class="section" id="edit-production-ini">
<h2>Edit Production.ini</h2>
<ul class="simple">
<li>change port as 3307 under [client] and [mysqld] section</li>
<li>Change basedir and datadir in that ini file</li>
</ul>
<p><a class="reference external" href="http://files.arulraj.net/code/database/production.ini">Click Here</a> for my production.ini file</p>
<p>Now add your custom ini in system starup</p>
<div class="highlight"><pre><span></span>mysqld --install mysqldproduction --defaults-file=&quot;E:\softs\mysql\instances\production.ini&quot;
</pre></div>
<p>Now goto Control Panel â†’ Administrative tools â†’ Services. Then search
for 'mysqldproduction' and start service.</p>
<p>OR</p>
<div class="highlight"><pre><span></span>net start mysqldproduction
</pre></div>
<p>You may think all is done. But after this only I faced problems.</p>
<p><strong>Cannot find the file specified:</strong></p>
<p>When I try to start that service &quot;System error has occurred. The system cannot find the file specified.&quot;</p>
<p>There is registry changes needed to fix that issue</p>
<ul class="simple">
<li>To open registry editor Start â†’ Run</li>
<li>Type 'regedit' and enter.</li>
<li>Next, browse to the registry key named:&nbsp;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\mysqldproduction\ImagePath</li>
<li>Now you can see there is <em>no double quotes</em> in that --defaults-file so change ImagePath to</li>
</ul>
<div class="highlight"><pre><span></span><span class="s2">&quot;E:\softs\mysql\bin\mysqld&quot;</span> --defaults-file<span class="o">=</span><span class="s2">&quot;E:\softs\mysql\instances\production.ini&quot;</span> mysqldproduction
</pre></div>
<p>Now start that service.</p>
<p>Keep watching Event Viewer. That is the best place to get debug information. Again I am getting error while starting server</p>
<p><a class="reference external" href="http://3.bp.blogspot.com/-khW4T_J1vso/T6GMNPk7tPI/AAAAAAAAPW4/q29gl6NoL3g/s1600/event-viewer.PNG"><img alt="Event viewer for mysql" src="http://3.bp.blogspot.com/-khW4T_J1vso/T6GMNPk7tPI/AAAAAAAAPW4/q29gl6NoL3g/s400/event-viewer.PNG" /></a></p>
<p><strong>Can't find messagefile:</strong></p>
<p>The error is</p>
<div class="highlight"><pre><span></span>System error 1067 has occurred.
The process terminated unexpectedly.
Can&#39;t find messagefile &#39;E:\softs\mysql\instances\production\share\errmsg.sys&#39;
</pre></div>
<p><strong>Fix:</strong></p>
<blockquote>
Just copy errmsg.sys file from [MYSQL_BASE]shareenglishto that instancesproductionshare folder</blockquote>
<p>Now everything is fine. Service will start successfully.</p>
</div>

            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Multiple mysql instances in windows&amp;url=http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="http://www.arulraj.net/tag/mysql">mysql</a><a href="http://www.arulraj.net/tag/tips-tricks">Tips &amp; Tricks</a><a href="http://www.arulraj.net/tag/windows">windows</a>                </aside>

                <div class="clear"></div>

                <aside class="post-author">
                        <figure class="post-author-avatar">
                            <img src="https://www.gravatar.com/avatar/dead1c3ffb26a27d8b5e30e1c30e46e6?s=600" alt="Arul" />
                        </figure>
                    <div class="post-author-bio">
                        <h4 class="post-author-name"><a href="http://www.arulraj.net/author/arul">Arul</a></h4>
                            <p class="post-author-about">â€¢ Architect â€¢ DevOps â€¢ Full Stack Developer â€¢ Aspiring Entrepreneur â€¢</p>
                            <span class="post-author-location"><i class="ic ic-location"></i> Chennai</span>
                            <span class="post-author-website"><a href="http://arulraj.net"><i class="ic ic-link"></i> Website</a></span>
                            <span class="post-author-twitter"><a target="_blank" href="https://twitter.com/arulrajnet"><i class="ic ic-twitter"></i> Twitter</a></span>
                            <span class="post-author-facebook"><a target="_blank" href="https://facebook.com/arulraj.net"><i class="ic ic-facebook"></i> Facebook</a></span>
                    </div>
                    <div class="clear"></div>
                </aside>
 

                </section>

                <script type="text/javascript">
                    var disqus = 'arulrajnet';
                    var disqus_shortname = 'arulrajnet';
                    var disqus_identifier = '/2012/05/multiple-mysql-instances-in-windows.html';
                    var disqus_url = 'http://www.arulraj.net/2012/05/multiple-mysql-instances-in-windows.html';
                </script>
                <noscript>Please enable JavaScript to view the comments.</noscript>                  
                <section class="post-comments">
                        <a id="show-disqus" class="post-comments-activate" data-disqus-identifier="/2012/05/multiple-mysql-instances-in-windows.html" >Show Comments</a>
                    <div id="disqus_thread"></div>                  
                </section>

                <aside class="post-nav">
                    <a class="post-nav-next" href="http://www.arulraj.net/2012/07/upgrade-samsung-galaxy-5-to-ice-cream-sandwich.html">
                        <section class="post-nav-teaser">
                            <i class="ic ic-arrow-left"></i>
                                <h2 class="post-nav-title">Upgrade Samsung Galaxy 5 to Ice Cream Sandwich</h2>
                            <p class="post-nav-excerpt">How to upgrade to Android 4.0.4 This time I come with Android 4.0.4 (Ice Cream ...</p>
                        </section>
                    </a>
                    <a class="post-nav-prev" href="http://www.arulraj.net/2012/04/red5-with-spring-mvc.html">
                        <section class="post-nav-teaser">
                            <i class="ic ic-arrow-right"></i>
                                <h2 class="post-nav-title">Red5 with Spring MVC</h2>
                            <p class="post-nav-excerpt">Access Red5 context in spring MVC DispatcherServlet Before we start, some ...</p>
                        </section>
                    </a>
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>
  
    <footer id="footer">
      <div class="inner">
        <section class="credits">
          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="http://www.arulraj.net/theme/js/script.js"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3546274-9']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'arulrajnet';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>